<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<meta name="robots" content="noindex">
<style>
html {
  box-sizing: border-box;
  margin:0;
  padding:0;
}

*, *::before, *::after {
  box-sizing: inherit;
}

body {
	width:100%;
	margin:0 auto;
	font-size:3vw;
	font-family: "Noto Sans JP", "Noto Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", "Arial", sans-serif;
}
body > p {
	width:auto;
	padding:0.25%;
	font-size:100%;
	word-break: break-all;  /* é•·ã„æ–‡å­—åˆ—ã‚’æŠ˜ã‚Šè¿”ã— */
}
#inputform > div{
	width:auto;
	margin:0 auto;
	display:flex;
	flex-wrap:nowrap;
	padding:2% 0;
}
#inputform .th {
	width:30%;
	font-size:150%;
}
#inputform input {
	font-size:150%;
	width:10vw;
}
#inputform .u_base {
	width:45vw;
}
#inputform .u_ans {
	background-color:#ff9;
}
#inputform .u_btn {
	font-size:125%;
	width:15vw;
}
#inputform span {
	font-size:150%;
}
.buttonarea {
	width:100%;
	display:flex;
	flex-wrap:nowrap;
}
.buttonarea input {
	width:50%;
	font-size:120%;
	padding:2.5% 0;
}
#subbtn {
	font-size:110%;
}
/*PCã ã¨æ–‡å­—ãŒå¤§ãã™ãã‚‹ã®ã§èª¿æ•´*/
@media screen and (min-width: 641px){
	body {
		font-size:1.5vw;
	}
}
</style>
<script>
//ã¨ã‚Šã‚ãˆãš100ãƒŸãƒªç§’ï¼0.1ç§’ã«ä¸€å›æ›´æ–°
let milliSec = 0;
let interval = 100;
let passTimer;
let scoreArray = [[]];

//-----------------------------

//-----------------------------
//èª­ã¿è¾¼ã¿å¾Œã®å‡¦ç†
document.addEventListener('DOMContentLoaded', function(){
	getSubnetInfo();
	setQandA();
	setTimer();
});
//-----------------------------

//-----------------------------
//ä»¥ä¸‹ã€é–¢æ•°
//ãƒ©ãƒ³ãƒ€ãƒ ãª0ï½_max-1ã®æ•´æ•°ã‚’ç”Ÿæˆï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
function rnd(_max) {
	return Math.floor(Math.random()*_max);
}
function setTimer() {
	clearInterval(passTimer);
	milliSec = 0;
	passTimer = setInterval(function(){
		if (milliSec > 300 * 1000) {
			clearInterval(passTimer);
		}
		else {
			milliSec += interval;
		}
		//console.log("çµŒéæ™‚é–“:"+milliSec);
		document.getElementById("timer").innerHTML = Math.floor(milliSec/1000);
	},interval);
	
	//å…¥åŠ›æƒ…å ±ã®åˆæœŸåŒ–
	document.querySelectorAll(".u_ans").forEach(el => {
	  //console.log(el.value);
	  el.value = "";
	});
}
//INPUTç³»ã®åˆæœŸåŒ–
function initQandA() {
	setTimer();
	document.getElementById("answer").innerHTML = "";
}
let addressObj = {};
//ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹é•·ã‹ã‚‰ã‚µãƒ–ãƒãƒƒãƒˆãƒã‚¹ã‚¯ã‚’ç”Ÿæˆï¼ˆæœªä½¿ç”¨ï¼‰
function getMaskFromPrefix(prefixLength) {
	const binaryMask = "1".repeat(prefixLength).padEnd(32, "0");
	const subnetMask = Array.from({ length: 4 }, (_, i) =>
	  parseInt(binaryMask.slice(i * 8, (i + 1) * 8), 2)
	).join(".");
	console.log(subnetMask); // å‡ºåŠ›: 255.255.255.0
	return subnetMask;
}

//ãƒ©ãƒ³ãƒ€ãƒ ãªIPã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‹ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹é•·ã‚’ç”Ÿæˆ
function getRandomIpAndPrefix() {
	//IPv4ã‚¢ãƒ‰ãƒ¬ã‚¹ç”Ÿæˆ
	const ip = Array.from({ length: 4 }, () => Math.floor(Math.random() * 256)).join(".");
	//ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹é•·ï¼ˆCIDRï¼‰ç”Ÿæˆï¼šä¸€èˆ¬çš„ãªç¯„å›²ã§ãƒ©ãƒ³ãƒ€ãƒ ï¼ˆ8ã€œ30ï¼‰
	const prefix = Math.floor(Math.random() * (30 - 8 + 1)) + 8;
	//ä½¿ç”¨ä¾‹
	//console.log("getRandomIpAndPrefix",`${ip}/${prefix}`); // ä¾‹: 192.168.24.11/23
	//ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹é•·ãŒ8ã®å€æ•°ã ã£ãŸã‚‰ã‚„ã‚Šç›´ã™
	if (prefix % 8 == 0) {return getRandomIpAndPrefix();}
	else {return `${ip}/${prefix}`;}
}

//IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹é•·ã‚’æ¸¡ã—ã¦ã€ãƒ–ãƒ­ãƒ¼ãƒ‰ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€ã‚µãƒ–ãƒãƒƒãƒˆãƒã‚¹ã‚¯ã‚’è¿”ã™
function getSubnetInfo(keystr,cidr) {
	if (cidr == null) {
		cidr = getRandomIpAndPrefix();
	}
	const [ipStr, prefixStr] = cidr.split("/");
	const prefixLength = parseInt(prefixStr);
	try {
	}
	catch (e) {
		const [ipStr, prefixStr] = ["255.255.255","32"];
		const prefixLength = parseInt(prefixStr);
		console.warn(cidr,e);
	}

	if (prefixLength < 0 || prefixLength > 32) {
		throw new Error("Invalid prefix length");
	}
	// IPã‚’æ•´æ•°ã«å¤‰æ›
	const ipParts = ipStr.split(".").map(Number);
	const ipInt =
		(ipParts[0] << 24) |
		(ipParts[1] << 16) |
		(ipParts[2] << 8) |
		ipParts[3];
	// ã‚µãƒ–ãƒãƒƒãƒˆãƒã‚¹ã‚¯ã‚’æ•´æ•°ã§ç”Ÿæˆ
	const maskInt = (0xFFFFFFFF << (32 - prefixLength)) >>> 0;

	// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹
	const networkInt = ipInt & maskInt;
	
	// ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹
	const broadcastInt = networkInt | (~maskInt >>> 0);

	// æ•´æ•°ã‚’IPv4æ–‡å­—åˆ—ã«å¤‰æ›ã™ã‚‹é–¢æ•°
	const intToIp = (int) =>
		[(int >>> 24) & 255, (int >>> 16) & 255, (int >>> 8) & 255, int & 255].join(".");
	
	addressObj = {
		baseAddress: cidr,
		subnetMask: intToIp(maskInt),
		networkAddress: intToIp(networkInt),
		broadcastAddress: intToIp(broadcastInt),
	};
	if (keystr == null) {
		return addressObj;
	}
	else {
		return addressObj[keystr];
	}
	// ä½¿ç”¨ä¾‹
	//console.log(getSubnetInfo("172.16.201.33/18"));
}

//å•é¡Œæ–‡ã®æŒ¿å…¥
function setQandA() {
	let _element = document.getElementById("question");
	let _num = rnd(33);
	let _txt = "ã‚µãƒ–ãƒãƒƒãƒˆãƒã‚¹ã‚¯(SUB)ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹(NWA)ã€ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹(BCA)ã‚’æ±‚ã‚ãªã•ã„ã€‚";
	_element.innerHTML = ""+_txt;
	
	//BASEã«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ¿å…¥
	setTimeout(function(){
		_element = document.querySelector("#baseAddress input");
		_element.value = addressObj["baseAddress"];
		/*
		//inputè¤‡æ•°å¯¾å¿œäºˆå®š
		let inputs = document.querySelectorAll("#baseAddress input");
		let val = 0;
		for (let i = 0; i < 4; i++) {
			_element = inputs[i];
			_val = addressObj["baseAddress"].split(".")[i];
			if (typeof _val == "Number") {
				_element.value = _val;
			}
			else {
				_element.value = _val.split("/")[0];
				_element = inputs[i+1];
				_element.value = _val.split("/")[1];				
			}
		}
		*/
		//_element = document.querySelector("#baseAddress input");
		//_element.value = ""+addressObj["baseAddress"];
	},10);
	
	//æ­£è§£ã‚’æŒ¿å…¥
	let isChecked = document.getElementById("check_alwayanswer").checked;
	if (isChecked) {insertAnswer(getAnswer(true));}
	
	//ãƒ’ãƒ³ãƒˆæŒ¿å…¥
	isChecked = document.getElementById("check_semiauto").checked;
	if (isChecked) {insertHint();}
	else {resetHint();}
	
}
//å•é¡Œã‚’æ›´æ–°ã—ãŸéš›ã®é©ç”¨ï¼ˆå±¥æ­´ã‹ã‚‰ã®å¾©å…ƒã‚„ç›´æ¥å…¥åŠ›ãªã©ï¼‰
function applyQuestion(_value) {
	let _element = document.querySelector("#baseAddress input");
	if (_value == null) {
		_value = _element.value;
	}
	addressObj["baseAddress"] = _value;
	_element.value = _value;
	getSubnetInfo(null,_value);
	setQandA();
}
//ãƒ’ãƒ³ãƒˆã®è‰²ä»˜ã‘ã®ãƒªã‚»ãƒƒãƒˆ
function resetHint() {
	for (key in addressObj) {
		if (key == "baseAddress") {continue;}
		_element = document.querySelector("#"+key+" input");
		//let spritTarget = _element.value.split(".");
		let inputs = document.querySelectorAll("#" + key + " input");
		//console.log(key,inputs);
		for (let i = 0; i < 4; i++) {
			_element = inputs[i]; // Nç•ªç›®ï¼ˆ0ãŒå…ˆé ­ï¼‰
			_element.removeAttribute("disabled");
			_element.style.backgroundColor = "#ff9";
			_element.value = "";
		}
	}
}
//ã‚µãƒ–ãƒãƒƒãƒˆãƒã‚¹ã‚¯ã¨å„ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å¤‰åŒ–ã™ã‚‹éƒ¨åˆ†ã®ã¿ã‚’ã€Œ-ã€ã¨ã—ã¦æŒ¿å…¥
function insertHint(_isAutoset) {
	if (_isAutoset == false) {
		resetHint();
		return;
	}
	let _element;
	let _splitBase = addressObj["baseAddress"].split(".");
	_splitBase[_splitBase.length-1] = _splitBase[_splitBase.length-1].split("/")[0];
	let _splitSub = addressObj["subnetMask"].split(".");
	let _octet = 3;
	for (let i = 0; i < _splitSub.length; i++) {
		if (_splitSub[i] != 0 && _splitSub[i] != 255) {
			_octet = i;
		}
	}
	//console.log("å¤‰åŒ–ã™ã‚‹ã‚ªã‚¯ãƒ†ãƒƒãƒˆï¼š"+(_octet+1));
	let _insertStr = "";
	let _insertNum = 0;
	for (key in addressObj) {
		if (key == "baseAddress") {continue;}
		_element = document.querySelector("#"+key+" input");
		//let spritTarget = _element.value.split(".");
		let inputs = document.querySelectorAll("#" + key + " input");
		//console.log(key,inputs);
		for (let i = 0; i < 4; i++) {
			_element = inputs[i]; // Nç•ªç›®ï¼ˆ0ãŒå…ˆé ­ï¼‰
			//console.log(i,_element);
			//if (i != 0) {_insertStr += ".";}
			if (_splitSub[i] == 0) {
				if (key == "networkAddress" || key == "subnetMask") {
					_insertNum = 0;
				}
				else {
					_insertNum = 255;
				}
				//_element.setAttribute("tabindex", "-1");
				_element.setAttribute("disabled", true);
				_element.style.backgroundColor = "transparent";
			}
			else if (_splitSub[i] == 255) {
				if (key == "subnetMask") {
					_insertNum = _splitSub[i];
				}
				else {
					_insertNum = _splitBase[i];
				}
				//_element.setAttribute("tabindex", "-1");
				_element.setAttribute("disabled", true);
				_element.style.backgroundColor = "transparent";
			}
			else {
				//_element.setAttribute("tabindex", "");
				_element.removeAttribute("disabled");
				_element.style.backgroundColor = "#ff9";
				_insertNum = "";
				//console.log(key,i,_element);
			}
			_element.value = _insertNum;
		}
	}
}
//æ¡ç‚¹ï¼ˆå„ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ­£è§£ã§25ç‚¹*3ã€æ®‹ã‚Šã¯çµŒéæ™‚é–“ã§åŠ ç‚¹ï¼‰
function getScore() {
	let _score = 0;
	let _valueStr = "";
	for (key in addressObj) {
		if (key != "baseAddress") {
			_valueStr = "";
			let _element = document.querySelector("#"+key+" input");
			let inputs = document.querySelectorAll("#" + key + " input");
			for (let i = 0; i < 4; i++) {
				if (i != 0) {
					_valueStr += ".";
				}
				_valueStr += inputs[i].value;
			}
			//console.log(_valueStr+" vs "+addressObj[key]);
			if (_valueStr == addressObj[key]) {
				_score += 25;
			}
		}
	}
	//çµŒéæ™‚é–“ãƒœãƒ¼ãƒŠã‚¹ã¯é€šå¸¸æ™‚ã¯60ç§’ã€‚æ‰‹æŠœãã¯120ç§’
	let _baseSec = 60;
	let isChecked = document.getElementById("check_semiauto").checked;
	if (isChecked == true) {
		_baseSec = _baseSec * 0.5;
	}
	if (_score >= 25 * 3) {
		if (milliSec <= _baseSec*1000) {
			_score += 25;			
		}
		else if (milliSec <= _baseSec*2*1000) {
				_score += 15;			
		}
		else if (milliSec <= _baseSec*3*1000) {
				_score += 5;
		}
	}
	return _score;
}
//æ­£è§£ã®HTMLã‚’ç”Ÿæˆã—ã¦è¿”ã™ï¼ˆå°†æ¥çš„ã«ã¯æ•´ç†ãŒå¿…è¦ï¼‰
function getAnswer(_isAutoAnser) {
	let _id = "";
	let _value = "";
	let _valueStr = "";
	let _element = document.getElementById("answer");
	//_element.innerHTML = ""+JSON.stringify(addressObj);
	let _answertext = "";

	for (key in addressObj) {
		if (key != "baseAddress") {
			//inputè¤‡æ•°å¯¾å¿œäºˆå®š
			_element = document.querySelector("#"+key+" div");
			_value = _element.textContent;
			_answertext += (_value+":");
			_valueStr = "";
			_element = document.querySelector("#"+key+" input");
			let inputs = document.querySelectorAll("#" + key + " input");
			for (let i = 0; i < 4; i++) {
				if (i != 0) {
					_valueStr += ".";
				}
				_valueStr += inputs[i].value;
			}
			//console.log(key,_valueStr);
			if (_valueStr == addressObj[""+key]) {
				_answertext += ("<span style=''>"+"OK!!"+"</span>");
			}
			else if (_isAutoAnser == true) {
				_answertext += ("<span style='opacity:0.5;'>"+addressObj[key]+"</span>");
			}
			else {
				_answertext += ("<span style='color:red;'>"+addressObj[key]+"</span>");
			}
			_answertext += "<br>";
		}
	}
	//console.log("ans="+_answertext);
	return _answertext;
}
//æ­£è§£ã®HTMLã‚’æŒ¿å…¥
function insertAnswer(_answertext) {
	_element = document.getElementById("answer");
	_element.innerHTML = ""+_answertext;
}
//ã‚¹ã‚³ã‚¢ä¸€è¦§ã®HTMLã‚’æ›´æ–°
function renderScoreList() {
  let _element = document.getElementById("score");
  _element.innerHTML = "<pre>";
  let _linenum = Math.min(scoreArray.length, 10);
  for (let i = 0; i < _linenum; i++) {
    let entry = scoreArray[i];
    if (!entry || entry.length < 3 || typeof entry[1] !== "number") continue; // ä¸æ­£ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ã‚­ãƒƒãƒ—

    let _judge = entry[1] >= 60 ? "âœ…" : "âŒ";
    _element.innerHTML += `
      ${_judge}\t${entry[0]}\t${entry[1]}ç‚¹\t${entry[2]}ç§’\t
      <input type="button" value="ğŸ”" onclick="applyQuestion('${entry[0]}')"><br>
    `;
  }
  _element.innerHTML += "</pre>";
}
function insertScore(_score, _address = null, _cleartime = null) {
  if (_score == null) {
    _score = getScore();
  }
  if (_address == null) {
    _address = addressObj["baseAddress"];
  }
  if (_cleartime == null) {
    _cleartime = Math.floor(milliSec / 1000);
  }

  // ä¸æ­£ãªå€¤ã‚’é˜²ããŸã‚ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  if (!_address || typeof _score !== "number" || typeof _cleartime !== "number") {
    console.warn("ç„¡åŠ¹ãªã‚¹ã‚³ã‚¢ãƒ‡ãƒ¼ã‚¿ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚æŒ¿å…¥ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™ã€‚");
    return;
  }

  scoreArray.unshift([_address, _score, _cleartime]);

  renderScoreList();
  setAverageStats();
  //saveHistory();
}

//ãƒ‡ãƒãƒƒã‚°ç”¨ã®é–¢æ•°ï¼ˆæ¤œè¨¼ä¸è¶³ã®ãŸã‚ä¿å­˜æ©Ÿèƒ½ã¯å¾Œå›ã—ï¼‰
function setAverageStats() {
	let stats = getAverageStats();
	document.getElementById("avgscore").textContent = stats.avgScore;
	document.getElementById("avgtime").textContent = stats.avgTime;	
}
function getAverageStats() {
  let totalScore = 0;
  let totalTime = 0;
  let count = 0;
  scoreArray.forEach(entry => {
    if (entry[1] >= 0) {
      totalScore += entry[1];
      totalTime += entry[2];
      count++;
    }
  });
  return {
    avgScore: count ? Math.round(totalScore / count) : 0,
    avgTime: count ? Math.round(totalTime / count) : 0
  };
}
function saveHistory() {
	//ä¿å­˜æ©Ÿèƒ½
	let stats = getAverageStats();
	document.getElementById("avgscore").textContent = stats.avgScore;
	document.getElementById("avgtime").textContent = stats.avgTime;

	// å±¥æ­´ä¿å­˜
	localStorage.setItem("subnetHistory", JSON.stringify(scoreArray));
}
function loadHistory() {
  const saved = localStorage.getItem("subnetHistory");
  if (saved) {
    scoreArray = JSON.parse(saved);
    renderScoreList();
    setAverageStats();
  }
  getSubnetInfo();
  setQandA();
  setTimer();
}
//<p>å¹³å‡ç‚¹ï¼š<span id="avgscore">--</span>ç‚¹ã€€å¹³å‡æ™‚é–“ï¼š<span id="avgtime">--</span>ç§’</p>
</script>
</head>
<body>
<p id="question">å•é¡Œæ–‡ãŒå…¥ã‚Šã¾ã™</p>
<form id="inputform">
<div id="baseAddress">
<div class="th">BASE</div>
<input class="u_base" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
<input class="u_btn" type="button" value="å¤‰æ›´" onclick="applyQuestion();">
<!--
<input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
<span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
 <span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
 <span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
 <span>/</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
-->
</div>
<div id="subnetMask">
<div class="th">SUB</div>
<input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
 <span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
 <span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
 <span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
</div>
<div id="networkAddress">
<div class="th">NWA</div>
<input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
<span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
<span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
<span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
</div>
<div id="broadcastAddress">
<div class="th">BCA</div>
<input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
<span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
<span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
<span>.</span> <input class="u_ans" type="tel" inputmode="numeric" pattern="[0-9.]*" placeholder="" />
</div>
<!--
<input type="text" inputmode="numeric" pattern="[0-9./]*" placeholder="ä¾‹: 192.168.1.1/24(ã‚¹ãƒãƒ›ç„¡ç†ãã†)">
-->
</form>
<p id="subbtn">
<label><input type="checkbox" id="check_alwayanswer" value="" onclick="insertAnswer(getAnswer(true))">æ­£è§£ã‚’å¸¸ã«è¡¨ç¤º</label>
ã€€<label><input type="checkbox" id="check_semiauto" value="" onclick="insertHint(this.checked)">å¯¾è±¡ä»¥å¤–ã‚’è‡ªå‹•å…¥åŠ›</label>
ã€€çµŒéæ™‚é–“ï¼š<span id="timer"></span>ç§’
</p>
<p id="answer"></p>
<!--
è¨ˆç®—æ‰‹é †ã®ãƒ¡ãƒ¢
ãƒ»bit=ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹é•·ã®å·®åˆ†ã‚’æ±‚ã‚ã‚‹
ãƒ»num=2ã®bitä¹—ã§ãƒ“ãƒƒãƒˆæ•°ã‚’æ±‚ã‚ã‚‹(ä¾‹:bitãŒ4â†’2ã®4ä¹—ï¼16)
ãƒ»ã‚µãƒ–ãƒãƒƒãƒˆãƒã‚¹ã‚¯(256-2ã®numä¹—)ã‚’æ±‚ã‚ã‚‹
ãƒ»å¯¾è±¡ã‚ªã‚¯ãƒ†ãƒƒãƒˆã‚’è¦‹æ¥µã‚ã‚‹
ãƒ»å„ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å¯¾è±¡ä»¥å¤–ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
ãƒ»nwa=å¯¾è±¡ã‚ªã‚¯ãƒ†ãƒƒãƒˆã‚’è¨ˆç®—ã€Œã‚¢ãƒ‰ãƒ¬ã‚¹ã®å€¤/num*bitã€
ãƒ»bca=å¯¾è±¡ã‚ªã‚¯ãƒ†ãƒƒãƒˆã‚’è¨ˆç®—ã€Œnwaï¼‹bit-1ã€
ä¾‹ï¼š8.188.41.99/28â†’32-28=4(bit)â†’16(num)â†’99/16=6â†’16*6=96(nwa)â†’96+16-1=111(sub)
<pre>
| ãƒ—ãƒ¬ | 2é€²æ•°     | 10é€²æ•° | ã‚µãƒ–æ•° |
|------|----------|--------|--------|
| /0   | 00000000 | 0      | 1      |
| /1   | 10000000 | 128    | 2      |
| /2   | 11000000 | 192    | 4      |
| /3   | 11100000 | 224    | 8      |
| /4   | 11110000 | 240    | 16     |
| /5   | 11111000 | 248    | 32     |
| /6   | 11111100 | 252    | 64     |
| /7   | 11111110 | 254    | 128    |
| /8   | 11111111 | 255    | 256    |
</pre>
-->
<div class="buttonarea">
<input type="button" value="æ­£è§£ã‚’è¡¨ç¤º" onclick="clearInterval(passTimer);insertAnswer(getAnswer());">
<input type="button" value="æ¬¡ã®å•é¡Œã¸" onclick="insertScore(getScore());initQandA();setQandA(getSubnetInfo())">
</div>
<div class="buttonarea">
	<!--
	<input type="button" value="å†èª­ã¿è¾¼ã¿" onclick="location.reload();" style="font-size:120%; padding:1em;">
	<input type="button" value="çµæœä¸€è¦§" onclick="insertScore()">
	-->
</div>
<br>
<details open>
<summary>çµæœä¸€è¦§ã€€å¹³å‡ç‚¹ï¼š<span id="avgscore">--</span>ç‚¹ã€€å¹³å‡æ™‚é–“ï¼š<span id="avgtime">--</span>ç§’</summary>
<p id="score"></p>
</details>
</body>
